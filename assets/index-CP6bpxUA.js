import"./base-BB0VGiTW.js";import{g as x,a as E,E as w}from"./home-CWeYtcZ8.js";import{E as L,a as S}from"./breadcrumb-item-Cuvgnemc.js";import{G as D}from"./GoodsItem-Dg4uaIEm.js";import{p as b,k as v,$ as R,a0 as V,_ as G,r as N,o as a,c as n,a as e,b as i,w as c,F as u,d as _,f as m,g as A,e as f,t as p,G as y,V as F,W as P}from"./index-C1ImVDH_.js";import{g as U}from"./category-Dkn0vtuQ.js";import"./index-B3TDH60y.js";import"./icon-UGr1kMCN.js";function $(){const s=b([]),r=async()=>{try{await x({distributionSite:"2"}).then(t=>{t.msg==="操作成功"&&(s.value=t.result)})}catch(t){console.log("err ======",t)}};return v(()=>{r()}),{bannerList:s}}function j(){const s=R(),r=b({}),t=async(d=s.params.id)=>{try{await U(d).then(l=>{l.msg==="操作成功"&&(r.value=l.result)})}catch(l){console.log("err ======",l)}};return v(()=>{t()}),V(d=>{console.log("路由變化了 ~~~~~"),t(d.params.id)}),{categoryData:r}}const M=s=>(F("data-v-c6ce4c02"),s=s(),P(),s),O={class:"category-wrap"},T={class:"top-category"},W={class:"container m-top-20"},q={class:"bread-container"},z={class:"home-banner"},H=["src"],J={class:"sub-list"},K=M(()=>e("h3",null,"全部分类",-1)),Q=["src"],X={class:"head"},Y={class:"body"},Z=A({name:"Category"}),ee=Object.assign(Z,{setup(s){const{bannerList:r}=$(),{categoryData:t}=j();return(d,l)=>{const g=S,k=L,B=w,C=E,I=N("RouterLink");return a(),n("div",O,[e("div",T,[e("div",W,[e("div",q,[i(k,{separator:">"},{default:c(()=>[i(g,{to:{path:"/"}},{default:c(()=>[f("首页")]),_:1}),i(g,null,{default:c(()=>[f(p(m(t).name),1)]),_:1})]),_:1})]),e("div",z,[i(C,{height:"500px"},{default:c(()=>[(a(!0),n(u,null,_(m(r),o=>(a(),y(B,{key:o.id},{default:c(()=>[e("img",{src:o.imgUrl,alt:""},null,8,H)]),_:2},1024))),128))]),_:1})]),e("div",J,[K,e("ul",null,[(a(!0),n(u,null,_(m(t).children,o=>(a(),n("li",{key:o.id},[i(I,{to:`/category/sub/${o.id}`},{default:c(()=>[e("img",{src:o.picture},null,8,Q),e("span",null,p(o.name),1)]),_:2},1032,["to"])]))),128))])]),(a(!0),n(u,null,_(m(t).children,o=>(a(),n("div",{class:"ref-goods",key:o.id},[e("div",X,[e("h3",null,"- "+p(o.name)+"-",1)]),e("div",Y,[(a(!0),n(u,null,_(o.goods,h=>(a(),y(D,{goods:h,key:h.id},null,8,["goods"]))),128))])]))),128))])])])}}}),ie=G(ee,[["__scopeId","data-v-c6ce4c02"]]);export{ie as default};
