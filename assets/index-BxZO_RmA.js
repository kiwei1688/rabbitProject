import"./base-BYK0webe.js";import{g as x,a as E,E as w}from"./home-CKphjFjb.js";import{E as L,a as S}from"./breadcrumb-item-CBrMenUB.js";import{G as D}from"./GoodsItem-BMbL2jTT.js";import{k as b,q as v,A as R,B as A,_ as N,r as V,o as a,c as n,a as e,b as d,w as c,F as u,d as _,f as m,g as F,e as f,t as p,v as y,p as G,i as P}from"./index-CMEQwe3J.js";import{g as U}from"./category-Bv9YN5wj.js";function j(){const s=b([]),r=async()=>{try{await x({distributionSite:"2"}).then(t=>{t.msg==="操作成功"&&(s.value=t.result)})}catch(t){console.log("err ======",t)}};return v(()=>{r()}),{bannerList:s}}function q(){const s=R(),r=b({}),t=async(i=s.params.id)=>{try{await U(i).then(l=>{l.msg==="操作成功"&&(r.value=l.result)})}catch(l){console.log("err ======",l)}};return v(()=>{t()}),A(i=>{console.log("路由變化了 ~~~~~"),t(i.params.id)}),{categoryData:r}}const M=s=>(G("data-v-c6ce4c02"),s=s(),P(),s),O={class:"category-wrap"},T={class:"top-category"},$={class:"container m-top-20"},z={class:"bread-container"},H={class:"home-banner"},J=["src"],K={class:"sub-list"},Q=M(()=>e("h3",null,"全部分类",-1)),W=["src"],X={class:"head"},Y={class:"body"},Z=F({name:"Category"}),ee=Object.assign(Z,{setup(s){const{bannerList:r}=j(),{categoryData:t}=q();return(i,l)=>{const g=S,B=L,k=w,C=E,I=V("RouterLink");return a(),n("div",O,[e("div",T,[e("div",$,[e("div",z,[d(B,{separator:">"},{default:c(()=>[d(g,{to:{path:"/"}},{default:c(()=>[f("首页")]),_:1}),d(g,null,{default:c(()=>[f(p(m(t).name),1)]),_:1})]),_:1})]),e("div",H,[d(C,{height:"500px"},{default:c(()=>[(a(!0),n(u,null,_(m(r),o=>(a(),y(k,{key:o.id},{default:c(()=>[e("img",{src:o.imgUrl,alt:""},null,8,J)]),_:2},1024))),128))]),_:1})]),e("div",K,[Q,e("ul",null,[(a(!0),n(u,null,_(m(t).children,o=>(a(),n("li",{key:o.id},[d(I,{to:`/category/sub/${o.id}`},{default:c(()=>[e("img",{src:o.picture},null,8,W),e("span",null,p(o.name),1)]),_:2},1032,["to"])]))),128))])]),(a(!0),n(u,null,_(m(t).children,o=>(a(),n("div",{class:"ref-goods",key:o.id},[e("div",X,[e("h3",null,"- "+p(o.name)+"-",1)]),e("div",Y,[(a(!0),n(u,null,_(o.goods,h=>(a(),y(D,{goods:h,key:h.id},null,8,["goods"]))),128))])]))),128))])])])}}}),ce=N(ee,[["__scopeId","data-v-c6ce4c02"]]);export{ce as default};
