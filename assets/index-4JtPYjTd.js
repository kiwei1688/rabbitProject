import{h as B,E as P}from"./base-BYK0webe.js";import{E as Y}from"./button-CVkT1oI3.js";import"./input-Dn30LswB.js";import{E as q}from"./input-number-B5Fol9zu.js";import{_ as S,A as V,l as z,k,q as A,r as U,o as _,c as p,a as s,e as c,t as e,F as C,d as x,v as X,w as r,g as H,p as N,i as j,b as l,Y as Z,Z as G}from"./index-CMEQwe3J.js";import{E as J,a as K}from"./breadcrumb-item-CBrMenUB.js";import{u as Q}from"./cartStore-C4K5dddF.js";/* empty css                 */import"./event-BE20p1dL.js";const W=async o=>await B({url:"/goods",params:{id:o}}),ss=async({id:o,type:v,limit:m=3})=>await B({url:"/goods/hot",params:{id:o,type:v,limit:m}}),ts=o=>(N("data-v-7cfeaa34"),o=o(),j(),o),es={class:"goods-hot"},os=ts(()=>s("i",{class:"iconfont icon-user"},null,-1)),ns=["src"],as={class:"name ellipsis"},ls={class:"desc ellipsis"},cs={class:"price"},is=H({name:"DetailHot"}),us=Object.assign(is,{props:{hotType:{type:Number}},setup(o){const v=V(),m=o,t={1:"24小時熱榜",2:"周熱榜"},h=z(()=>t[m.hotType]),y=k([]),g=k({id:v.params.id,type:m.hotType}),I=async()=>{try{await ss(g.value).then(u=>{console.log("獲得資料 ~~~~~",u),u.msg==="操作成功"&&(y.value=u.result)})}catch(u){console.log("err ======",u)}};return A(()=>{I()}),(u,w)=>{const n=U("RouterLink");return _(),p("div",es,[s("h3",null,[os,c(" "+e(h.value),1)]),(_(!0),p(C,null,x(y.value,d=>(_(),X(n,{to:"/",class:"goods-item",key:d.id},{default:r(()=>[s("img",{src:d.picture,alt:""},null,8,ns),s("span",as,e(d.name.slice(0,9))+" ....",1),s("span",ls,e(d.desc.slice(0,11))+" ....",1),s("span",cs,"售價 : "+e(d.price)+" 元",1)]),_:2},1024))),128))])}}}),T=S(us,[["__scopeId","data-v-7cfeaa34"]]),i=o=>(N("data-v-087e0476"),o=o(),j(),o),ds={class:"goods-page-wrap"},_s={class:"xtx-goods-page"},rs={class:"container"},ps={class:"bread-container"},ms={class:"info-container"},hs={class:"goods-info"},gs={class:"media"},vs={class:"goods-sales"},fs=i(()=>s("p",null,"銷量人氣",-1)),ys=i(()=>s("p",null,[s("i",{class:"iconfont icon-task-filling"}),c("銷售量人氣")],-1)),bs=i(()=>s("p",null,"商品評價",-1)),ks=i(()=>s("p",null,[s("i",{class:"iconfont icon-comment-filling"}),c("查看評價")],-1)),Is=i(()=>s("p",null,"收藏人氣",-1)),Cs=i(()=>s("p",null,[s("i",{class:"iconfont icon-favorite-filling"}),c("收藏商品")],-1)),xs=i(()=>s("p",null,"品牌資訊",-1)),ws={class:"brandTxt"},Es=i(()=>s("p",null,[s("i",{class:"iconfont icon-dynamic-filling"}),c("品牌首頁")],-1)),$s={class:"spec"},Ds={class:"g-name"},Ps={class:"g-desc"},Ts={class:"g-price"},Bs=i(()=>s("div",{class:"g-service"},[s("dl",null,[s("dt",null,"促銷 :"),s("dd",null,"12月好物放送，App領券購買直降120元")]),s("dl",null,[s("dt",null,"服務 :"),s("dd",null,[s("span",null,"無憂退貨"),s("span",null,"快速退款"),s("span",null,"免費運費"),s("a",{href:"javascript:;"},"了解詳情")])])],-1)),Ss={class:"goods-footer"},Vs={class:"goods-article"},As={class:"goods-tabs"},Hs=i(()=>s("nav",null,[s("a",null,[s("i",{class:"iconfont icon-user"}),c(" 商品詳情 ")])],-1)),Ns={class:"goods-detail"},js={class:"attrs"},Ls={class:"dt"},Ms={class:"dd"},Os=["src"],Rs={class:"goods-aside"},Fs=H({name:"Detail"}),Ys=Object.assign(Fs,{setup(o){const v=Q(),m=V(),t=k({}),h=k(1),y=async()=>{try{await W(m.params.id).then(n=>{n.msg==="操作成功"&&(t.value=n.result)})}catch(n){console.log("err ======",n)}};let g={};const I=n=>{console.log("skuuuuuu",n),g=n},u=()=>{console.log("eeeeee",h.value)},w=()=>{if(g.skuId){const n={id:t.value.id,name:t.value.name,picture:t.value.mainPictures[0],count:h.value,price:t.value.price,skuId:g.skuId,attrsText:g.specText,selected:!0};v.addCart(n),P.success("已加入購物車")}else P.warning("請選擇商品規格")};return A(()=>{y()}),(n,d)=>{var E,$;const b=K,L=J,M=Z,O=G,R=q,F=Y;return _(),p("div",ds,[s("div",_s,[s("div",rs,[s("div",ps,[l(L,{separator:">"},{default:r(()=>{var a,D;return[l(b,{to:{path:"/"}},{default:r(()=>[c("首頁")]),_:1}),l(b,{to:{path:`/category/${(a=t.value.categories)==null?void 0:a[1].id}`}},{default:r(()=>{var f;return[c(e((f=t.value.categories)==null?void 0:f[1].name),1)]}),_:1},8,["to"]),l(b,{to:{path:`/category/sub/${(D=t.value.categories)==null?void 0:D[0].id}`}},{default:r(()=>{var f;return[c(e((f=t.value.categories)==null?void 0:f[0].name),1)]}),_:1},8,["to"]),l(b,null,{default:r(()=>[c(e(t.value.name),1)]),_:1})]}),_:1})]),s("div",ms,[s("div",null,[s("div",hs,[s("div",gs,[l(M,{"image-list":t.value.mainPictures},null,8,["image-list"]),s("ul",vs,[s("li",null,[fs,s("p",null,e(t.value.salesCount),1),ys]),s("li",null,[bs,s("p",null,e(t.value.commentCount),1),ks]),s("li",null,[Is,s("p",null,e(t.value.collectCount),1),Cs]),s("li",null,[xs,s("p",ws,e(t.value.name),1),Es])])]),s("div",$s,[s("p",Ds,e(t.value.name),1),s("p",Ps,e(t.value.desc),1),s("p",Ts,[s("span",null,e(t.value.oldPrice),1),s("span",null,e(t.value.price),1)]),Bs,l(O,{goods:t.value,onChange:I},null,8,["goods"]),l(R,{modelValue:h.value,"onUpdate:modelValue":d[0]||(d[0]=a=>h.value=a),min:1,onChange:u},null,8,["modelValue"]),s("div",null,[l(F,{size:"large",class:"btn",onClick:w},{default:r(()=>[c(" 加入購物車 ")]),_:1})])])]),s("div",Ss,[s("div",Vs,[s("div",As,[Hs,s("div",Ns,[s("ul",js,[(_(!0),p(C,null,x((E=t.value.details)==null?void 0:E.properties,a=>(_(),p("li",{key:a.value},[s("span",Ls,e(a.name),1),s("span",Ms,e(a.value),1)]))),128))]),(_(!0),p(C,null,x(($=t.value.details)==null?void 0:$.pictures,a=>(_(),p("img",{src:a,key:a,alt:""},null,8,Os))),128))])])]),s("div",Rs,[l(T,{"hot-type":1}),l(T,{"hot-type":2})])])])])])])])}}}),Ws=S(Ys,[["__scopeId","data-v-087e0476"]]);export{Ws as default};
