import{a1 as $e,p as I,h as $,f as e,j as X,m as He,k as he,q as Le,y as Oe,K as ze,a2 as Ve,l as ge,g as ee,o as P,c as R,G as ce,w as x,B as Q,a as O,n as L,a3 as Y,b as J,O as Z,P as ve,I as j,z as pe,A as ye,F as De,d as Re,t as Ge,v as Fe,a4 as Ke,a5 as je}from"./index-C1ImVDH_.js";import{o as Ie,p as Ue,q as Ce,v as We,E as fe,z as qe,A as Xe,_ as we,B as Ye,w as Je,C as Qe,y as te}from"./base-BB0VGiTW.js";import{a as Ze}from"./index-B3TDH60y.js";import{u as xe,t as de,f as et}from"./GoodsItem-Dg4uaIEm.js";const tt=Ie({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:{type:Boolean,default:!1}}),at={change:(a,B)=>[a,B].every(Ue)},_e=Symbol("carouselContextKey"),me=300,st=(a,B,r)=>{const{children:o,addChild:N,removeChild:b}=xe(ge(),"ElCarouselItem"),M=$e(),s=I(-1),C=I(null),E=I(!1),w=I(),T=I(0),S=I(!0),g=I(!0),d=I(!1),G=$(()=>a.arrow!=="never"&&!e(_)),z=$(()=>o.value.some(t=>t.props.label.toString().length>0)),k=$(()=>a.type==="card"),_=$(()=>a.direction==="vertical"),F=$(()=>a.height!=="auto"?{height:a.height}:{height:`${T.value}px`,overflow:"hidden"}),n=de(t=>{m(t)},me,{trailing:!0}),i=de(t=>{V(t)},me),p=t=>S.value?s.value<=1?t<=1:t>1:!0;function v(){C.value&&(clearInterval(C.value),C.value=null)}function y(){a.interval<=0||!a.autoplay||C.value||(C.value=setInterval(()=>H(),a.interval))}const H=()=>{g.value||(d.value=!0),g.value=!1,s.value<o.value.length-1?s.value=s.value+1:a.loop&&(s.value=0)};function m(t){if(g.value||(d.value=!0),g.value=!1,ze(t)){const K=o.value.filter(D=>D.props.name===t);K.length>0&&(t=o.value.indexOf(K[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;const u=o.value.length,A=s.value;t<0?s.value=a.loop?u-1:0:t>=u?s.value=a.loop?0:u-1:s.value=t,A===s.value&&l(A),re()}function l(t){o.value.forEach((u,A)=>{u.translateItem(A,s.value,t)})}function U(t,u){var A,K,D,W;const q=e(o),ie=q.length;if(ie===0||!t.states.inStage)return!1;const Te=u+1,Ne=u-1,ue=ie-1,Ae=q[ue].states.active,Be=q[0].states.active,Me=(K=(A=q[Te])==null?void 0:A.states)==null?void 0:K.active,Pe=(W=(D=q[Ne])==null?void 0:D.states)==null?void 0:W.active;return u===ue&&Be||Me?"left":u===0&&Ae||Pe?"right":!1}function ae(){E.value=!0,a.pauseOnHover&&v()}function se(){E.value=!1,y()}function oe(){d.value=!1}function f(t){e(_)||o.value.forEach((u,A)=>{t===U(u,A)&&(u.states.hover=!0)})}function c(){e(_)||o.value.forEach(t=>{t.states.hover=!1})}function h(t){t!==s.value&&(g.value||(d.value=!0)),s.value=t}function V(t){a.trigger==="hover"&&t!==s.value&&(s.value=t,g.value||(d.value=!0))}function ne(){m(s.value-1)}function Se(){m(s.value+1)}function re(){v(),a.pauseOnHover||y()}function ke(t){a.height==="auto"&&(T.value=t)}function Ee(){var t;const u=(t=M.default)==null?void 0:t.call(M);if(!u)return null;const A=et(u),K="ElCarouselItem",D=A.filter(W=>Ve(W)&&W.type.name===K);return(D==null?void 0:D.length)===2&&a.loop&&!k.value?(S.value=!0,D):(S.value=!1,null)}X(()=>s.value,(t,u)=>{l(u),S.value&&(t=t%2,u=u%2),u>-1&&B("change",t,u)}),X(()=>a.autoplay,t=>{t?y():v()}),X(()=>a.loop,()=>{m(s.value)}),X(()=>a.interval,()=>{re()});const le=He();return he(()=>{X(()=>o.value,()=>{o.value.length>0&&m(a.initialIndex)},{immediate:!0}),le.value=Ze(w.value,()=>{l()}),y()}),Le(()=>{v(),w.value&&le.value&&le.value.stop()}),Oe(_e,{root:w,isCardType:k,isVertical:_,items:o,loop:a.loop,addItem:N,removeItem:b,setActiveItem:m,setContainerHeight:ke}),{root:w,activeIndex:s,arrowDisplay:G,hasLabel:z,hover:E,isCardType:k,isTransitioning:d,items:o,isVertical:_,containerStyle:F,isItemsTwoLength:S,handleButtonEnter:f,handleTransitionEnd:oe,handleButtonLeave:c,handleIndicatorClick:h,handleMouseEnter:ae,handleMouseLeave:se,setActiveItem:m,prev:ne,next:Se,PlaceholderItem:Ee,isTwoLengthShow:p,throttledArrowClick:n,throttledIndicatorHover:i}},ot=["aria-label"],nt=["aria-label"],lt=["onMouseenter","onClick"],rt=["aria-label"],it={key:0},ut={key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},ct=O("defs",null,[O("filter",{id:"elCarouselHorizontal"},[O("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),O("filter",{id:"elCarouselVertical"},[O("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1),vt=[ct],ft="ElCarousel",dt=ee({name:ft}),mt=ee({...dt,props:tt,emits:at,setup(a,{expose:B,emit:r}){const o=a,{root:N,activeIndex:b,arrowDisplay:M,hasLabel:s,hover:C,isCardType:E,items:w,isVertical:T,containerStyle:S,handleButtonEnter:g,handleButtonLeave:d,isTransitioning:G,handleIndicatorClick:z,handleMouseEnter:k,handleMouseLeave:_,handleTransitionEnd:F,setActiveItem:n,prev:i,next:p,PlaceholderItem:v,isTwoLengthShow:y,throttledArrowClick:H,throttledIndicatorHover:m}=st(o,r),l=Ce("carousel"),{t:U}=We(),ae=$(()=>{const f=[l.b(),l.m(o.direction)];return e(E)&&f.push(l.m("card")),f}),se=$(()=>{const f=[l.e("container")];return o.motionBlur&&e(G)&&f.push(e(T)?`${l.namespace.value}-transitioning-vertical`:`${l.namespace.value}-transitioning`),f}),oe=$(()=>{const f=[l.e("indicators"),l.em("indicators",o.direction)];return e(s)&&f.push(l.em("indicators","labels")),o.indicatorPosition==="outside"&&f.push(l.em("indicators","outside")),e(T)&&f.push(l.em("indicators","right")),f});return B({setActiveItem:n,prev:i,next:p}),(f,c)=>(P(),R("div",{ref_key:"root",ref:N,class:L(e(ae)),onMouseenter:c[7]||(c[7]=Y((...h)=>e(k)&&e(k)(...h),["stop"])),onMouseleave:c[8]||(c[8]=Y((...h)=>e(_)&&e(_)(...h),["stop"]))},[e(M)?(P(),ce(ve,{key:0,name:"carousel-arrow-left",persisted:""},{default:x(()=>[Q(O("button",{type:"button",class:L([e(l).e("arrow"),e(l).em("arrow","left")]),"aria-label":e(U)("el.carousel.leftArrow"),onMouseenter:c[0]||(c[0]=h=>e(g)("left")),onMouseleave:c[1]||(c[1]=(...h)=>e(d)&&e(d)(...h)),onClick:c[2]||(c[2]=Y(h=>e(H)(e(b)-1),["stop"]))},[J(e(fe),null,{default:x(()=>[J(e(qe))]),_:1})],42,ot),[[Z,(f.arrow==="always"||e(C))&&(o.loop||e(b)>0)]])]),_:1})):j("v-if",!0),e(M)?(P(),ce(ve,{key:1,name:"carousel-arrow-right",persisted:""},{default:x(()=>[Q(O("button",{type:"button",class:L([e(l).e("arrow"),e(l).em("arrow","right")]),"aria-label":e(U)("el.carousel.rightArrow"),onMouseenter:c[3]||(c[3]=h=>e(g)("right")),onMouseleave:c[4]||(c[4]=(...h)=>e(d)&&e(d)(...h)),onClick:c[5]||(c[5]=Y(h=>e(H)(e(b)+1),["stop"]))},[J(e(fe),null,{default:x(()=>[J(e(Xe))]),_:1})],42,nt),[[Z,(f.arrow==="always"||e(C))&&(o.loop||e(b)<e(w).length-1)]])]),_:1})):j("v-if",!0),O("div",{class:L(e(se)),style:ye(e(S)),onTransitionend:c[6]||(c[6]=(...h)=>e(F)&&e(F)(...h))},[J(e(v)),pe(f.$slots,"default")],38),f.indicatorPosition!=="none"?(P(),R("ul",{key:2,class:L(e(oe))},[(P(!0),R(De,null,Re(e(w),(h,V)=>Q((P(),R("li",{key:V,class:L([e(l).e("indicator"),e(l).em("indicator",f.direction),e(l).is("active",V===e(b))]),onMouseenter:ne=>e(m)(V),onClick:Y(ne=>e(z)(V),["stop"])},[O("button",{class:L(e(l).e("button")),"aria-label":e(U)("el.carousel.indicator",{index:V+1})},[e(s)?(P(),R("span",it,Ge(h.props.label),1)):j("v-if",!0)],10,rt)],42,lt)),[[Z,e(y)(V)]])),128))],2)):j("v-if",!0),o.motionBlur?(P(),R("svg",ut,vt)):j("v-if",!0)],34))}});var ht=we(mt,[["__file","carousel.vue"]]);const gt=Ie({name:{type:String,default:""},label:{type:[String,Number],default:""}}),pt=(a,B)=>{const r=Fe(_e),o=ge(),N=.83,b=I(),M=I(!1),s=I(0),C=I(1),E=I(!1),w=I(!1),T=I(!1),S=I(!1),{isCardType:g,isVertical:d}=r;function G(n,i,p){const v=p-1,y=i-1,H=i+1,m=p/2;return i===0&&n===v?-1:i===v&&n===0?p:n<y&&i-n>=m?p+1:n>H&&n-i>=m?-2:n}function z(n,i){var p,v;const y=e(d)?((p=r.root.value)==null?void 0:p.offsetHeight)||0:((v=r.root.value)==null?void 0:v.offsetWidth)||0;return T.value?y*((2-N)*(n-i)+1)/4:n<i?-(1+N)*y/4:(3+N)*y/4}function k(n,i,p){const v=r.root.value;return v?((p?v.offsetHeight:v.offsetWidth)||0)*(n-i):0}const _=(n,i,p)=>{var v;const y=e(g),H=(v=r.items.value.length)!=null?v:Number.NaN,m=n===i;!y&&!Ye(p)&&(S.value=m||n===p),!m&&H>2&&r.loop&&(n=G(n,i,H));const l=e(d);E.value=m,y?(T.value=Math.round(Math.abs(n-i))<=1,s.value=z(n,i),C.value=e(E)?1:N):s.value=k(n,i,l),w.value=!0,m&&b.value&&r.setContainerHeight(b.value.offsetHeight)};function F(){if(r&&e(g)){const n=r.items.value.findIndex(({uid:i})=>i===o.uid);r.setActiveItem(n)}}return he(()=>{r.addItem({props:a,states:Ke({hover:M,translate:s,scale:C,active:E,ready:w,inStage:T,animating:S}),uid:o.uid,translateItem:_})}),je(()=>{r.removeItem(o.uid)}),{carouselItemRef:b,active:E,animating:S,hover:M,inStage:T,isVertical:d,translate:s,isCardType:g,scale:C,ready:w,handleItemClick:F}},yt=ee({name:"ElCarouselItem"}),It=ee({...yt,props:gt,setup(a){const B=a,r=Ce("carousel"),{carouselItemRef:o,active:N,animating:b,hover:M,inStage:s,isVertical:C,translate:E,isCardType:w,scale:T,ready:S,handleItemClick:g}=pt(B),d=$(()=>[r.e("item"),r.is("active",N.value),r.is("in-stage",s.value),r.is("hover",M.value),r.is("animating",b.value),{[r.em("item","card")]:w.value,[r.em("item","card-vertical")]:w.value&&C.value}]),G=$(()=>{const k=`${`translate${e(C)?"Y":"X"}`}(${e(E)}px)`,_=`scale(${e(T)})`;return{transform:[k,_].join(" ")}});return(z,k)=>Q((P(),R("div",{ref_key:"carouselItemRef",ref:o,class:L(e(d)),style:ye(e(G)),onClick:k[0]||(k[0]=(..._)=>e(g)&&e(g)(..._))},[e(w)?Q((P(),R("div",{key:0,class:L(e(r).e("mask"))},null,2)),[[Z,!e(N)]]):j("v-if",!0),pe(z.$slots,"default")],6)),[[Z,e(S)]])}});var be=we(It,[["__file","carousel-item.vue"]]);const St=Je(ht,{CarouselItem:be}),kt=Qe(be);async function Et(a={}){const{distributionSite:B="1"}=a;return await te({url:"/home/banner",params:{distributionSite:B}})}const Tt=async()=>await te({url:"/home/new"}),Nt=async()=>await te({url:"/home/hot"}),At=async()=>await te({url:"/home/goods"});export{kt as E,St as a,Tt as b,Nt as c,At as d,Et as g};
