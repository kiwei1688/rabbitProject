import{y as A}from"./base-BB0VGiTW.js";import{E as M}from"./button-Dd55Jdjm.js";import{E as O,a as N}from"./breadcrumb-item-Cuvgnemc.js";import{_ as D,$ as T,h as Y,p as m,k as V,r as z,o as i,c as _,a as s,e as u,t as o,F as I,d as k,G as R,w as y,g as P,V as j,W as H,a8 as X,j as F,B,O as E,f as L,A as C,n as G,b as h}from"./index-C1ImVDH_.js";import"./icon-UGr1kMCN.js";const W=async t=>await A({url:"/goods",params:{id:t}}),q=async({id:t,type:d,limit:e=3})=>await A({url:"/goods/hot",params:{id:t,type:d,limit:e}}),J=t=>(j("data-v-7cfeaa34"),t=t(),H(),t),K={class:"goods-hot"},Q=J(()=>s("i",{class:"iconfont icon-user"},null,-1)),U=["src"],Z={class:"name ellipsis"},ss={class:"desc ellipsis"},es={class:"price"},ts=P({name:"DetailHot"}),as=Object.assign(ts,{props:{hotType:{type:Number}},setup(t){const d=T(),e=t,r={1:"24小時熱榜",2:"周熱榜"},l=Y(()=>r[e.hotType]),g=m([]),n=m({id:d.params.id,type:e.hotType}),v=async()=>{try{await q(n.value).then(c=>{console.log("獲得資料 ~~~~~",c),c.msg==="操作成功"&&(g.value=c.result)})}catch(c){console.log("err ======",c)}};return V(()=>{v()}),(c,$)=>{const b=z("RouterLink");return i(),_("div",K,[s("h3",null,[Q,u(" "+o(l.value),1)]),(i(!0),_(I,null,k(g.value,a=>(i(),R(b,{to:"/",class:"goods-item",key:a.id},{default:y(()=>[s("img",{src:a.picture,alt:""},null,8,U),s("span",Z,o(a.name.slice(0,9))+" ....",1),s("span",ss,o(a.desc.slice(0,11))+" ....",1),s("span",es,"售價 : "+o(a.price)+" 元",1)]),_:2},1024))),128))])}}}),S=D(as,[["__scopeId","data-v-7cfeaa34"]]),os={class:"goods-image"},ls=["src"],ns={class:"small"},cs=["onMouseenter"],is=["src"],us=P({name:"ImgView"}),ds=Object.assign(us,{props:{imageList:{type:Array,default:()=>[]}},setup(t){const d=m(0),e=m(null),{elementX:r,elementY:l,isOutside:g}=X(e),n=m(0),v=m(0),c=m(0),$=m(0);F([r,l,g],()=>{g.value||(r.value>100&&r.value<300&&(n.value=r.value-100),l.value>100&&l.value<300&&(v.value=l.value-100),r.value>300&&(n.value=200),r.value<100&&(n.value=0),l.value>300&&(v.value=200),l.value<100&&(v.value=0),c.value=-n.value*2,$.value=-v.value*2)});const b=a=>{d.value=a};return(a,w)=>(i(),_("div",os,[s("div",{class:"middle",ref_key:"target",ref:e},[s("img",{src:t.imageList[d.value],alt:""},null,8,ls),B(s("div",{class:"layer",style:C({left:`${n.value}px`,top:`${v.value}px`})},null,4),[[E,!L(g)]])],512),s("ul",ns,[(i(!0),_(I,null,k(t.imageList,(f,x)=>(i(),_("li",{key:x,class:G({active:x===d.value}),onMouseenter:Gs=>b(x)},[s("img",{src:f,alt:""},null,8,is)],42,cs))),128))]),B(s("div",{class:"large",style:C([{backgroundImage:`url(${t.imageList[d.value]})`,backgroundPositionX:`${c.value}px`,backgroundPositionY:`${$.value}px`}])},null,4),[[E,!L(g)]])]))}}),rs=D(ds,[["__scopeId","data-v-5e9ad68f"]]),p=t=>(j("data-v-1cc0024a"),t=t(),H(),t),_s={class:"goods-page-wrap"},ps={class:"xtx-goods-page"},vs={class:"container"},hs={class:"bread-container"},ms={class:"info-container"},gs={class:"goods-info"},fs={class:"media"},ys={class:"goods-sales"},$s=p(()=>s("p",null,"銷量人氣",-1)),bs=p(()=>s("p",null,[s("i",{class:"iconfont icon-task-filling"}),u("銷售量人氣")],-1)),Is=p(()=>s("p",null,"商品評價",-1)),ks=p(()=>s("p",null,[s("i",{class:"iconfont icon-comment-filling"}),u("查看評價")],-1)),ws=p(()=>s("p",null,"收藏人氣",-1)),xs=p(()=>s("p",null,[s("i",{class:"iconfont icon-favorite-filling"}),u("收藏商品")],-1)),Ds=p(()=>s("p",null,"品牌資訊",-1)),Ps={class:"brandTxt"},Bs=p(()=>s("p",null,[s("i",{class:"iconfont icon-dynamic-filling"}),u("品牌首頁")],-1)),Es={class:"spec"},Ls={class:"g-name"},Cs={class:"g-desc"},Ss={class:"g-price"},As=p(()=>s("div",{class:"g-service"},[s("dl",null,[s("dt",null,"促銷 :"),s("dd",null,"12月好物放送，App領券購買直降120元")]),s("dl",null,[s("dt",null,"服務 :"),s("dd",null,[s("span",null,"無憂退貨"),s("span",null,"快速退款"),s("span",null,"免費運費"),s("a",{href:"javascript:;"},"了解詳情")])])],-1)),Ts={class:"goods-footer"},Vs={class:"goods-article"},js={class:"goods-tabs"},Hs=p(()=>s("nav",null,[s("a",null,[s("i",{class:"iconfont icon-user"}),u(" 商品詳情 ")])],-1)),Ms={class:"goods-detail"},Os={class:"attrs"},Ns={class:"dt"},Ys={class:"dd"},zs=["src"],Rs={class:"goods-aside"},Xs=P({name:"Detail"}),Fs=Object.assign(Xs,{setup(t){const d=T(),e=m({}),r=async()=>{try{await W(d.params.id).then(l=>{l.msg==="操作成功"&&(e.value=l.result)})}catch(l){console.log("err ======",l)}};return V(()=>{r()}),(l,g)=>{var $,b;const n=N,v=O,c=M;return i(),_("div",_s,[s("div",ps,[s("div",vs,[s("div",hs,[h(v,{separator:">"},{default:y(()=>{var a,w;return[h(n,{to:{path:"/"}},{default:y(()=>[u("首頁")]),_:1}),h(n,{to:{path:`/category/${(a=e.value.categories)==null?void 0:a[1].id}`}},{default:y(()=>{var f;return[u(o((f=e.value.categories)==null?void 0:f[1].name),1)]}),_:1},8,["to"]),h(n,{to:{path:`/category/sub/${(w=e.value.categories)==null?void 0:w[0].id}`}},{default:y(()=>{var f;return[u(o((f=e.value.categories)==null?void 0:f[0].name),1)]}),_:1},8,["to"]),h(n,null,{default:y(()=>[u(o(e.value.name),1)]),_:1})]}),_:1})]),s("div",ms,[s("div",null,[s("div",gs,[s("div",fs,[h(rs,{"image-list":e.value.mainPictures},null,8,["image-list"]),s("ul",ys,[s("li",null,[$s,s("p",null,o(e.value.salesCount),1),bs]),s("li",null,[Is,s("p",null,o(e.value.commentCount),1),ks]),s("li",null,[ws,s("p",null,o(e.value.collectCount),1),xs]),s("li",null,[Ds,s("p",Ps,o(e.value.name),1),Bs])])]),s("div",Es,[s("p",Ls,o(e.value.name),1),s("p",Cs,o(e.value.desc),1),s("p",Ss,[s("span",null,o(e.value.oldPrice),1),s("span",null,o(e.value.price),1)]),As,s("div",null,[h(c,{size:"large",class:"btn"},{default:y(()=>[u(" 加入購物車 ")]),_:1})])])]),s("div",Ts,[s("div",Vs,[s("div",js,[Hs,s("div",Ms,[s("ul",Os,[(i(!0),_(I,null,k(($=e.value.details)==null?void 0:$.properties,a=>(i(),_("li",{key:a.value},[s("span",Ns,o(a.name),1),s("span",Ys,o(a.value),1)]))),128))]),(i(!0),_(I,null,k((b=e.value.details)==null?void 0:b.pictures,a=>(i(),_("img",{src:a,key:a,alt:""},null,8,zs))),128))])])]),s("div",Rs,[h(S,{"hot-type":1}),h(S,{"hot-type":2})])])])])])])])}}}),Us=D(Fs,[["__scopeId","data-v-1cc0024a"]]);export{Us as default};
